<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tính f(x)</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        label {
            display: block;
            margin-top: 10px;
        }

        input {
            margin-bottom: 10px;
        }

        .error {
            color: red;
            font-size: 0.9em;
        }

        .result {
            margin-top: 20px;
            font-size: 1.2em;
        }
    </style>
</head>
<body>
    <h2>Tính f(x) = x^2 + 2x + 1</h2>
    <form id="functionForm">
        <label for="xValue">Nhập giá trị x:</label>
        <input type="text" id="xValue" name="xValue" required>
        <span class="error" id="xValueError"></span>

        <button type="button" onclick="calculateFunction(event)">Tính</button>
        <button type="reset">Hủy bỏ</button>
    </form>
    <div class="result" id="result"></div>
    <script>
        function calculateFunction(event) {
            event.preventDefault();

            // Clear previous error messages
            document.getElementById("xValueError").textContent = "";
            document.getElementById("result").textContent = "";

            const xValue = document.getElementById("xValue").value;
            let errors = [];

            if (isNaN(xValue)) {
                errors.push({ field: "xValueError", message: "Giá trị x phải là một số." });
            }

            if (errors.length > 0) {
                errors.forEach(error => {
                    document.getElementById(error.field).textContent = error.message;
                });
                return;
            }

            const x = parseFloat(xValue);
            const fx = x * x + 2 * x + 1;
            document.getElementById("result").textContent = `f(${x}) = ${fx}`;
        }
    </script>
</body>
</html>